;(function($){$.cookiesDirective=function(options){var settings=$.extend({explicitConsent:true,position:'top',duration:10,limit:0,message:null,cookieScripts:null,privacyPolicyUri:'privacy.html',scriptWrapper:function(){},fontFamily:'helvetica',fontColor:'#FFFFFF',fontSize:'13px',backgroundColor:'#000000',backgroundOpacity:'99',linkColor:'#CA0000'},options);if(!getCookie('cookiesDirective')){if(settings.limit>0){if(!getCookie('cookiesDisclosureCount')){setCookie('cookiesDisclosureCount',1,1);}else{var disclosureCount=getCookie('cookiesDisclosureCount');disclosureCount++;setCookie('cookiesDisclosureCount',disclosureCount,1);}
if(settings.limit>=getCookie('cookiesDisclosureCount')){disclosure(settings);}}else{disclosure(settings);}
if(!settings.explicitConsent){settings.scriptWrapper.call();}}else{settings.scriptWrapper.call();}};$.cookiesDirective.loadScript=function(options){var settings=$.extend({uri:'',appendTo:'body'},options);var elementId=String(settings.appendTo);var sA=document.createElement("script");sA.src=settings.uri;sA.type="text/javascript";sA.onload=sA.onreadystatechange=function(){if((!sA.readyState||sA.readyState=="loaded"||sA.readyState=="complete")){return;}};switch(settings.appendTo){case 'head':$('head').append(sA);break;case 'body':$('body').append(sA);break;default:$('#'+elementId).append(sA);}};var getCookie=function(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)===0)return c.substring(nameEQ.length,c.length);}
return null;};var setCookie=function(name,value,days){var expires="";if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));expires="; expires="+date.toGMTString();}
document.cookie=name+"="+value+expires+"; path=/";};var checkIE=function(){var version;if(navigator.appName=='Microsoft Internet Explorer'){var ua=navigator.userAgent;var re=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})");if(re.exec(ua)!==null){version=parseFloat(RegExp.$1);}
if(version<=8.0){return true;}else{if(version==9.0){if(document.compatMode=="BackCompat"){var mA=document.createElement("meta");mA.content="IE=EmulateIE8";document.getElementsByTagName('head')[0].appendChild(mA);return true;}else{return false;}}
return false;}}else{return false;}};var disclosure=function(options){var settings=options;settings.css='fixed';if(checkIE()){settings.position='top';settings.css='absolute';}
var scriptsDisclosure='';if(settings.cookieScripts){var scripts=settings.cookieScripts.split(',');var scriptsCount=scripts.length;var scriptDisclosureTxt='';if(scriptsCount>1){for(var t=0;t<scriptsCount-1;t++){scriptDisclosureTxt+=scripts[t]+', ';}
scriptsDisclosure=' We use '+scriptDisclosureTxt.substring(0,scriptDisclosureTxt.length-2)+' and '+scripts[scriptsCount-1]+' scripts, which all set cookies. ';}else{scriptsDisclosure=' We use a '+scripts[0]+' script which sets cookies.';}}
var html='';html+='<div id="epd">';html+='<div id="cookiesdirective" style="position:'+settings.css+';'+settings.position+':-300px;left:0px;width:100%;z-index:2000;';html+='height:auto;background:'+settings.backgroundColor+';opacity:.'+settings.backgroundOpacity+';';html+='-ms-filter: “alpha(opacity='+settings.backgroundOpacity+')”; filter: alpha(opacity='+settings.backgroundOpacity+');';html+='-khtml-opacity: .'+settings.backgroundOpacity+'; -moz-opacity: .'+settings.backgroundOpacity+';';html+='color:'+settings.fontColor+';font-family:'+settings.fontFamily+';font-size:'+settings.fontSize+';';html+='text-align:center;z-index:1000;">';html+='<div style="position:relative;height:auto;width:90%;padding:10px;margin-left:auto;margin-right:auto;">';if(!settings.message){if(settings.explicitConsent){settings.message='This site uses cookies. Some of the cookies we ';settings.message+='use are essential for parts of the site to operate and have already been set.';}else{settings.message='We have placed cookies on your computer to help make this website better.';}}
html+=settings.message;if(settings.explicitConsent){html+=scriptsDisclosure+'You may delete and block all cookies from this site, but parts of the site will not work.';html+='To find out more about cookies on this website, see our <a style="color:'+settings.linkColor+';font-weight:bold;';html+='font-family:'+settings.fontFamily+';font-size:'+settings.fontSize+';" href="'+settings.privacyPolicyUri+'">privacy policy</a>.<br/>';html+='<div id="epdnotick" style="color:#ca0000;display:none;margin:2px;"><span style="background:#cecece;padding:2px;">You must tick the "I accept cookies from this site" box to accept</span></div>';html+='<div style="margin-top:5px;">I accept cookies from this site <input type="checkbox" name="epdagree" id="epdagree" />&nbsp;';html+='<input type="submit" name="explicitsubmit" id="explicitsubmit" value="Continue"/><br/></div></div>';}else{html+=scriptsDisclosure+'<br><input style="" type="submit" name="impliedsubmit" id="impliedsubmit" value="Accept"/></div></div>';}
html+='</div></div>';$('body').append(html);var dp=settings.position.toLowerCase();if(dp!='top'&&dp!='bottom'){dp='top';}
var opts={in:null,out:null};if(dp=='top'){opts.in={'top':'0'};opts.out={'top':'-300'};}else{opts.in={'bottom':'0'};opts.out={'bottom':'-300'};}
$('#cookiesdirective').animate(opts.in,1000,function(){if(settings.explicitConsent){$('#explicitsubmit').click(function(){if($('#epdagree').is(':checked')){setCookie('cookiesDirective',1,365);$('#cookiesdirective').animate(opts.out,1000,function(){$('#cookiesdirective').remove();location.reload(true);});}else{$('#epdnotick').css('display','block');}});}else{$('#impliedsubmit').click(function(){setCookie('cookiesDirective',1,365);$('#cookiesdirective').animate(opts.out,1000,function(){$('#cookiesdirective').remove();});});}
if(settings.duration>0)
{setTimeout(function(){$('#cookiesdirective').animate({opacity:'0'},2000,function(){$('#cookiesdirective').css(dp,'-300px');});},settings.duration*1000);}});};})(jQuery);